import{initializeApp}from"https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";import{getDatabase,ref,set}from"https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js";const firebaseConfig={apiKey:"AIzaSyCukmuh4VplvLpM3XQzlkGCuyGgX7x2y18",authDomain:"grastor-messagestorage.firebaseapp.com",databaseURL:"https://grastor-messagestorage-default-rtdb.firebaseio.com",projectId:"grastor-messagestorage",storageBucket:"grastor-messagestorage.appspot.com",messagingSenderId:"189811633204",appId:"1:189811633204:web:cddbbdee2964375bd86e61",measurementId:"G-G4SXGQZLE1"},app=initializeApp(firebaseConfig),database=getDatabase(app),errors={empty:{ru:"Заполнены не все поля!",en:"Not all fields are filled!"},email:{ru:"Не валидный адрес электронной почты",en:"Not a valid email address!"}};function setData(e){let a=createIDmsg(),t=createData(e);if("string"==typeof t)return alert(t);const s=getDatabase();set(ref(s,a),t)}function createData(e){let a=document.forms[0],t=document.documentElement.lang;if(!a.bucket.value&&e.target==a.send)return[a.name.value,a.email.value,a.message.value].some((e=>""==e))?errors.empty[t]:validateEmail(a.email.value)?{name:a.name.value,email:a.email.value,message:a.message.value}:errors.email[t]}function validateEmail(e){return e.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)}function createIDmsg(){let e=new Date;return`${e.getDate()}-${e.getMonth()}-${e.getFullYear()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`}document.documentElement.lang,document.querySelector(".submit").addEventListener("click",setData);